{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/KAYAM_SAI_KRISHNA/dem/secure-web-demo/src/app/register/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst schema = z.object({\r\n  firstName: z.string().min(2, \"First name must be at least 2 characters\"),\r\n  lastName: z.string().min(2, \"Last name must be at least 2 characters\"),\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(8, \"Password must be at least 8 characters\"),\r\n  phone: z.string().min(10, \"Invalid phone number\"),\r\n});\r\n\r\ntype FormData = z.infer<typeof schema>;\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(schema),\r\n  });\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      const responseData = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(responseData.error || \"Registration failed\");\r\n      }\r\n\r\n      toast.success(\"Registration successful! Please login.\");\r\n      router.push(\"/login\");\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Failed to register. Please try again.\");\r\n      console.error(\"Registration error:\", error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n          Create your account\r\n        </h2>\r\n      </div>\r\n\r\n      <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div>\r\n            <label\r\n              htmlFor=\"firstName\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              First Name\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"firstName\"\r\n                type=\"text\"\r\n                {...register(\"firstName\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                suppressHydrationWarning\r\n              />\r\n              {errors.firstName && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.firstName.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"lastName\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Last Name\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"lastName\"\r\n                type=\"text\"\r\n                {...register(\"lastName\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                suppressHydrationWarning\r\n              />\r\n              {errors.lastName && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.lastName.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"email\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Email address\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                {...register(\"email\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                suppressHydrationWarning\r\n              />\r\n              {errors.email && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.email.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"phone\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Phone Number\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"phone\"\r\n                type=\"tel\"\r\n                {...register(\"phone\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                suppressHydrationWarning\r\n              />\r\n              {errors.phone && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.phone.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Password\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"new-password\"\r\n                {...register(\"password\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                suppressHydrationWarning\r\n              />\r\n              {errors.password && (\r\n                <p className=\"mt-2 text-sm text-red-600\">\r\n                  {errors.password.message}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n              suppressHydrationWarning\r\n            >\r\n              {isSubmitting ? \"Creating account...\" : \"Sign up\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n          Already have an account?{\" \"}\r\n          <Link\r\n            href=\"/login\"\r\n            className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n          >\r\n            Sign in\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}