{"version":3,"sources":["turbopack:///[project]/src/app/register/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst schema = z.object({\r\n  firstName: z.string().min(2, \"First name must be at least 2 characters\"),\r\n  lastName: z.string().min(2, \"Last name must be at least 2 characters\"),\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(8, \"Password must be at least 8 characters\"),\r\n  phone: z.string().min(10, \"Invalid phone number\"),\r\n});\r\n\r\ntype FormData = z.infer<typeof schema>;\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(schema),\r\n  });\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Registration failed\");\r\n      }\r\n\r\n      toast.success(\"Registration successful! Please login.\");\r\n      router.push(\"/login\");\r\n    } catch (error) {\r\n      toast.error(\"Failed to register. Please try again.\");\r\n      console.error(\"Registration error:\", error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n          Create your account\r\n        </h2>\r\n      </div>\r\n\r\n      <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div>\r\n            <label\r\n              htmlFor=\"firstName\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              First Name\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"firstName\"\r\n                type=\"text\"\r\n                {...register(\"firstName\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              />\r\n              {errors.firstName && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.firstName.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"lastName\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Last Name\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"lastName\"\r\n                type=\"text\"\r\n                {...register(\"lastName\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              />\r\n              {errors.lastName && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.lastName.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"email\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Email address\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                {...register(\"email\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              />\r\n              {errors.email && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.email.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"phone\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Phone Number\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"phone\"\r\n                type=\"tel\"\r\n                {...register(\"phone\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              />\r\n              {errors.phone && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.phone.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            >\r\n              Password\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"new-password\"\r\n                {...register(\"password\")}\r\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              />\r\n              {errors.password && (\r\n                <p className=\"mt-2 text-sm text-red-600\">\r\n                  {errors.password.message}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n            >\r\n              {isSubmitting ? \"Creating account...\" : \"Sign up\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n          Already have an account?{\" \"}\r\n          <Link\r\n            href=\"/login\"\r\n            className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n          >\r\n            Sign in\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}