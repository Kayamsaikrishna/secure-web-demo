{"version":3,"sources":["turbopack:///[project]/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { signIn } from \"next-auth/react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { FormEvent, useState } from \"react\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [error, setError] = useState(\"\");\r\n  const callbackUrl = searchParams.get(\"callbackUrl\") || \"/dashboard\";\r\n\r\n  async function handleSubmit(e: FormEvent<HTMLFormElement>) {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await signIn(\"credentials\", {\r\n        email: formData.get(\"email\") as string,\r\n        password: formData.get(\"password\") as string,\r\n        redirect: false,\r\n        callbackUrl,\r\n      });\r\n\r\n      if (result?.error) {\r\n        setError(\"Invalid email or password\");\r\n        return;\r\n      }\r\n\r\n      if (result?.url) {\r\n        router.push(result.url);\r\n      } else {\r\n        router.push(callbackUrl);\r\n      }\r\n      router.refresh();\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      setError(\"An error occurred during login\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n            Sign in to your account\r\n          </h2>\r\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n            Or{\" \"}\r\n            <a href=\"/register\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n              register as a new user\r\n            </a>\r\n          </p>\r\n          <p className=\"mt-1 text-center text-sm text-gray-600\">\r\n            <a href=\"/admin/setup\" className=\"font-medium text-purple-600 hover:text-purple-500\">\r\n              Register as admin\r\n            </a>\r\n            {\" \"}if you&apos;re a system administrator\r\n          </p>\r\n        </div>\r\n        \r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n          <div className=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"sr-only\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Email address\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"text-red-500 text-sm text-center\">{error}</div>\r\n          )}\r\n\r\n          <div className=\"flex flex-col space-y-4\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n            >\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,EAAc,EAAa,GAAG,CAAC,gBAAkB,aAEvD,eAAe,EAAa,CAA6B,EACvD,EAAE,cAAc,GAChB,IAAM,EAAW,IAAI,SAAS,EAAE,aAAa,EAC7C,EAAS,IAET,GAAI,CACF,IAAM,EAAS,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,cAAe,CACzC,MAAO,EAAS,GAAG,CAAC,SACpB,SAAU,EAAS,GAAG,CAAC,YACvB,SAAU,eACV,CACF,GAEA,GAAI,GAAQ,MAAO,YACjB,EAAS,6BAIP,GAAQ,IACV,CADe,CACR,IAAI,CAAC,EAAO,GAAG,EAEtB,EAAO,IAAI,CAAC,GAEd,EAAO,OAAO,EAChB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,eAAgB,GAC9B,EAAS,iCACX,CACF,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kEAAyD,4BAGvE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mDAAyC,KACjD,IACH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,YAAY,UAAU,6DAAoD,8BAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mDACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,eAAe,UAAU,6DAAoD,sBAGpF,IAAI,yCAIT,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iBAAiB,SAAU,YACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,mBAAU,kBAG3C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,KAAK,QACL,aAAa,QACb,QAAQ,CAAA,CAAA,EACR,UAAU,6NACV,YAAY,qBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,mBAAU,aAG9C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAK,WACL,aAAa,mBACb,QAAQ,CAAA,CAAA,EACR,UAAU,6NACV,YAAY,mBAKjB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CAAoC,IAGrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,+OACX,qBAQb"}